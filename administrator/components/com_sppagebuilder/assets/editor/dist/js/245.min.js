"use strict";(self.webpackChunkreact_typescript_webpack_backend_editor=self.webpackChunkreact_typescript_webpack_backend_editor||[]).push([[245],{4245:(e,t,r)=>{r.r(t),r.d(t,{default:()=>G});var n=r(3871),o=r(935),i=r(288),a=r(3254),l=r(8122),s=r(5350),c=r(824),p=r(4185),u=r(917),f=r(36),d=r(802),y=r(4411),g=r(1234),m=r(3425),b=r(2328),_=r(7839),h=r(1921),v=r(230),E=r(6486),O=r(7294),S=r(7536),P=r(5944);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==I(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===I(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e,t){if(e){if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var W='\n<div>\n  <p>To integrate Google Fonts, follow these steps:</p>\n\n  <ol>\n      <li>Visit <a href="https://developers.google.com/fonts/docs/developer_api" target="_blank" rel="nofollow noreferrer">https://developers.google.com/fonts/docs/developer_api</a></li>\n      <li>Scroll down and locate the <strong>"Get a Key"</strong> section.</li>\n      <li>Click on the <strong>"Get a Key"</strong> button and provide a name for your project.</li>\n      <li>Proceed to the next step and your API key will be generated.</li>\n      <li>Click on <strong>"Show Key"</strong> and copy the generated API key.</li>\n      <li>Go to the SP Page Builder dashboard and navigate to <strong>Settings > Options > Advanced.</strong></li>\n      <li>Locate the <strong>"Google Fonts API key"</strong> field and paste the copied API key.</li>\n      <li>Save the changes to apply the Google Fonts integration.</li>\n  </ol>\n</div>\n';const G=function(){var e,t,r,c=(0,g.$)(),p=(t=(0,O.useState)([]),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,r)||D(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=p[0],h=p[1],I=(0,d.O)({defaultValues:{search:"",filter:""}}),A=I.watch(),L=A.search,G=A.filter,x=(0,f.N)(L),R=(0,_.Sq)({search:x,category:G}),j=(0,y.Z)(),Z=j.intersectionEntry,M=j.intersectionElementRef,k=(0,b.v)((function(e){return e.appConfig}));(0,O.useEffect)((function(){null!=Z&&Z.isIntersecting&&R.fetchNextPage()}),[null==Z?void 0:Z.isIntersecting,R]);var B=(0,O.useMemo)((function(){var e,t;return null!==(e=null===(t=R.data)||void 0===t?void 0:t.pages.flatMap((function(e){return e.results})))&&void 0!==e?e:[]}),[null===(e=R.data)||void 0===e?void 0:e.pages]);return k.has_google_font_api_key?!(0,v.$K)(R.data)&&(0,v.$K)(R.error)?(0,P.tZ)(m.Z,{orientation:"vertical",title:R.error.message,content:"ERR_BAD_REQUEST"===R.error.code?W:"",customCss:w.emptyStateCustom,errorMessage:c("COM_SPPAGEBUILDER_EDITOR_GOOGLE_FONT_INVALID_API_KEY")}):(0,P.BX)(P.HY,{children:[(0,P.BX)("div",{css:w.filterWrapper,children:[(0,P.tZ)("div",{css:w.textInputWrapper,children:(0,P.tZ)(S.Qr,{control:I.control,name:"search",render:function(e){return(0,P.tZ)(s.Z,C(C({},e),{},{variant:"search",placeholder:c("COM_SPPAGEBUILDER_EDITOR_FONT_BOOK_SEARCH_PLACEHOLDER"),isClearable:!0}))}})}),(0,P.tZ)("div",{css:w.selectWrapper,children:(0,P.tZ)(S.Qr,{control:I.control,name:"filter",render:function(e){return(0,P.tZ)(l.Z,C(C({},e),{},{options:k.google_font_categories,onChange:function(e){return console.log(e)},placeholder:c("COM_SPPAGEBUILDER_EDITOR_GOOGLE_FONT_CATEGORIES_PLACEHOLDER"),isClearable:!0}))}})})]}),(0,P.BX)("div",{css:w.topPanel,children:[(0,P.tZ)(i.Z,{routes:[{link:null,text:c("COM_SPPAGEBUILDER_EDITOR_FONT_MANAGER_ALL_ITEMS")},{link:null,text:c("COM_SPPAGEBUILDER_EDITOR_FONT_MANAGER_GOOGLE_FONTS")}],onFilterChange:E.noop}),u.length>0&&(0,P.BX)("div",{css:w.topPanelActionsWrapper,children:[(0,P.tZ)("p",{children:c(u.length>1?"COM_SPPAGEBUILDER_EDITOR_MEDIA_ITEMS_SELECTED":"COM_SPPAGEBUILDER_EDITOR_MEDIA_ITEM_SELECTED",{numberOfItems:u.length})}),(0,P.tZ)("div",{children:(0,P.tZ)(n.Z,{variant:"primary",onClick:function(){console.log("install google font")},children:c("COM_SPPAGEBUILDER_EDITOR_LANGUAGES_PAGE_BUTTON_TEXT_INSTALL")})})]})]}),(0,P.BX)("div",{css:w.innerWrapper,children:[R.isLoading?(0,P.tZ)(o.g4,{}):(0,P.tZ)("div",{css:w.fontsWrapper,children:B.map((function(e){return(0,P.tZ)(a.Z,{type:"google",font:{type:"google",family:e.family,variants:e.variants,installed_variants:e.installed_variants,category:"",is_installed:!1},isChecked:u.includes(e.family),onChange:function(){return h((function(t){return t.includes(e.family)?t.filter((function(t){return t!==e.family})):[].concat(function(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t),[e.family])}))}},e.family)}))}),(0,P.tZ)("div",{ref:M,css:w.infiniteLoader({isVisible:!R.isLoading&&R.hasNextPage}),children:(0,P.tZ)(o.ZP,{})})]})]}):(0,P.tZ)(m.Z,{orientation:"vertical",title:c("COM_SPPAGEBUILDER_EDITOR_GOOGLE_FONT_ADD_API_KEY"),content:W,customCss:w.emptyStateCustom,errorMessage:c("COM_SPPAGEBUILDER_EDITOR_GOOGLE_FONT_API_KEY_MISSING")})};var x={name:"1tbj5j9-infiniteLoader",styles:"display:block;label:infiniteLoader;"},w={rightSideWrapper:{name:"idves2-rightSideWrapper",styles:"width:100%;display:flex;flex-direction:column;label:rightSideWrapper;"},emptyStateCustom:(0,u.iv)("text-align:left;margin-top:",c.W0[20],";ol{list-style-type:decimal;text-align:left;list-style-position:inside;li{",p.c.body("medium"),";color:",c.qo.text.neutral,";margin-bottom:",c.W0[8],";}}span{font-weight:",c.Ue.bold,";}a{color:",c.qo.text.primary,";text-decoration:underline;}p{",p.c.body("medium"),";color:",c.qo.text.neutral,";margin-bottom:",c.W0[16],";};label:emptyStateCustom;"),innerWrapper:(0,u.iv)(h.iZ.overflowYAuto,";max-height:calc(90vh - 180px);padding-right:",c.W0[24],";;label:innerWrapper;"),fontsWrapper:(0,u.iv)("display:grid;grid-template-columns:repeat(5, minmax(120px, 1fr));gap:",c.W0[24],";",c.Uo.tablet,"{grid-template-columns:repeat(4, minmax(120px, 1fr));};label:fontsWrapper;"),filterWrapper:(0,u.iv)("display:flex;justify-content:center;gap:",c.W0[16],";;label:filterWrapper;"),textInputWrapper:{name:"1r9fuqm-textInputWrapper",styles:"flex:1;label:textInputWrapper;"},selectWrapper:{name:"1u54jb-selectWrapper",styles:"width:160px;label:selectWrapper;"},topPanel:(0,u.iv)("display:flex;justify-content:space-between;align-items:center;gap:",c.W0[8],";height:32px;margin-top:",c.W0[32],";margin-bottom:",c.W0[20],";;label:topPanel;"),topPanelActionsWrapper:(0,u.iv)("display:flex;justify-content:center;gap:",c.W0[16],";p{",p.c.body("medium"),";margin:auto 0;};label:topPanelActionsWrapper;"),infiniteLoader:function(e){var t=e.isVisible,r=void 0!==t&&t;return(0,u.iv)("display:none;text-align:center;height:40px;margin-top:",c.W0[16],";",r&&x,";;label:infiniteLoader;")}}}}]);